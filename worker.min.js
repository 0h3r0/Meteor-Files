"use strict";self.onmessage=function(a){var b=function(b,c){var d;self.FileReader?(d=new FileReader,d.onloadend=function(a){c(null,d.result||a.srcElement||a.target)},d.onerror=function(a){c((a.target||a.srcElement).error)},d[b](a.data.f.slice(a.data.cs*(a.data.cc-1),a.data.cs*a.data.cc))):self.FileReaderSync?(d=new FileReaderSync,c(null,d[b](a.data.f.slice(a.data.cs*(a.data.cc-1),a.data.chunkSize*a.data.cc)))):c("File API is not supported in WebWorker!")},c="readAsDataURL";"webrtc"===a.data.t&&(c="readAsArrayBuffer"),b(c,function(b,c){var d={bin:null,chunkId:a.data.cc,start:a.data.s};b?d.error=b:"ddp"===a.data.t||"http"===a.data.t?d.bin=c.split(",")[1]:d.bin=c,postMessage(d)})};